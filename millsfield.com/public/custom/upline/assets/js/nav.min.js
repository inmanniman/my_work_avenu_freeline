document.addEventListener('DOMContentLoaded', () => {

	// получаем все элементы с классом pushmenu
	const pushmenu = document.getElementsByClassName('pushmenu');

	// получаем элемент с классом hidden-overley
	const hiddenOverley = document.querySelector('.hidden-overley');
    const navLink = document.querySelectorAll('.nav__item');

	// отслеживаем клик клика по оверлею
	hiddenOverley.addEventListener('click', (e) => {
		e.currentTarget.classList.toggle('show');
		document.querySelector('.nav').classList.toggle('show');
		document.querySelector('body').classList.toggle('nav-opened');
		for( i=0; i < pushmenu.length; i++ ){
				pushmenu[i].classList.toggle('open');
		}
	});

    // отслеживаем клик по ссылке в меню
    navLink.forEach(e => {
        e.addEventListener('click', () => {
            hiddenOverley.classList.toggle('show');
            document.querySelector('.nav').classList.toggle('show');
            document.querySelector('body').classList.toggle('nav-opened');
            for( i=0; i < pushmenu.length; i++ ){
                    pushmenu[i].classList.toggle('open');
            }
        });
    }); 


	const pushmenuFunction = function() {
		document.querySelector('.pushmenu').classList.toggle('open');
		document.querySelector('.nav').classList.toggle('show');
		document.querySelector('.hidden-overley').classList.toggle('show');
		document.body.classList.toggle('nav-opened')
	};

	// Отслеживаем клики кнопок с классом pushmenu 
	for( i=0; i < pushmenu.length; i++ ){
		pushmenu[i].addEventListener('click', pushmenuFunction, false);
	}

});