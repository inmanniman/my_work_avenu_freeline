# Upline studio configs

## Что здесь есть:

- **Editorconfig** &mdash; для единых окончаний строк и количества пробелов в табуляции
- **Prettier** &mdash; для форматирования всего кода
- **Stylelint** &mdash; для более тонкого форматирования стилей (порядок, отступы между блоками). А также для линтинга
- **Eslint** &mdash; для линтинга js

## Как это настроить

Установка

```
npm i
```

Проверка

```
npx prettier --check .
npx stylelint assets/**/*.scss
npx eslint assets/**/*.js
```

Или

```
npm run test
```

### Настройка IDE (PHPStorm)

#### Prettier

В настройках:

1. Найти prettier
2. Поставить галки `on code reformat` и `on save`
3. Прописать обрабатываемые файлы `{**/*,*}.{js,ts,jsx,tsx,json,css,scss,html,md}`

#### Stylelint

В настройках: включить stylelint

_Замечание 1: К сожалению нет возможности включить автофикс на сохранение_

_Замечание 2: Обнаружено, что fix через IDE плохо работает с ошибками порядка свойств (не фиксит их). Возможный
workaround: запустить команду фикса вручную:_

```
npx stylelint --fix assets/src/scss/{**/*,*}.{css,scss}
```

#### Eslint

В настройках:

1. Включить eslint
2. Поставить галку lint on save

## Линтер ругается, как дальше жить?

1. Почитать про правило, на которое он ругается. Возможно это все по-делу
2. Если вы понимаете почему он ругается, но все равно хочешь так написать, то:
   1. Подумай, можно ли это написать по-другому
   2. Если нет, то используй комментарии, чтобы заблокировать проверку линтера
      (но только для конкретного правила, и для конкретной строки)
   3. Если причины почему так написано не очевидны, добавь поясняющий комментарий
3. Если не понятно почему ругается, похоже на баг и вообще, подойди и к старшему товарищу за помощью
   (возможно ты прав, и что-то где-то кривовато сконфигурировано)

## Хочу верстать, и чтобы все обновлялось

В одном терминале запускаем локальный сервер с версткой:

```
npx live-server dist
```

В другом, сборку:

```
npm run watch
```

### Но у меня не верстка, а проект на php

Тогда посмотри на [browser-sync](https://laravel-mix.com/docs/6.0/browsersync)
